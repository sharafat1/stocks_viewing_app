{"ast":null,"code":"import _slicedToArray from \"C:\\\\CAB432\\\\stocks_viewing_app\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\CAB432\\\\stocks_viewing_app\\\\client\\\\src\\\\pages\\\\Register.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"ag-grid-community/dist/styles/ag-grid.css\";\nimport \"ag-grid-community/dist/styles/ag-theme-alpine.css\";\nimport { CardBody } from \"reactstrap\"; //API login url\n\nvar API_URL = \"https://localhost:443\";\nvar url = \"\".concat(API_URL, \"/user/register\");\n/**\n * This is the main function which does the registration functionality, \n * First does a post request to register users with api. \n * Then displays appropriate error messages when needed. It also displays the messages\n * for the registration UI page.\n */\n\nexport default function Register() {\n  var history = useHistory();\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      email = _useState2[0],\n      setEmail = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      password = _useState4[0],\n      setPassword = _useState4[1];\n  /**\n  * @param {event} event\n  * This function sends a post request to the api for registration, then \n  * checks the returned query for errors.\n  * If there is error, the message will appear to the user on the screen and it will \n  * notify the user of the error message. \n  */\n\n\n  var registrationProcess = function registrationProcess(event) {\n    event.preventDefault();\n    /**\n     * This arrow function is an object which declares what the body, method, \n     * are to the api.\n     */\n\n    var sendPassEmailApi = {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        email: email,\n        password: password\n      })\n    };\n    fetch(url, sendPassEmailApi).then(function (res) {\n      return res.json();\n    }).then(function (apiResponse) {\n      //If user is registere nottify him to login\n      if (apiResponse.error) {\n        console.log(\"User already exists\");\n        alert(apiResponse.message);\n      } //Then go to the authenticated page where users will be able to get see price history\n\n\n      if (apiResponse.success) {\n        console.log(\"New user Created\"); //alert(\"You're registered!\"); //notify the user they're registered in\n\n        return history.push('/Login');\n      }\n    }).catch(function (err) {\n      alert(err.message + \" Please try again! \");\n    }); //This also catches error such as bad request\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    style: {\n      height: \"692px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(RegistrationNotesComponent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(CardBody, {\n    className: \"container\",\n    color: \"red\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: registrationProcess,\n    style: {\n      width: \"0px\",\n      height: \"0px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    style: {\n      padding: \"2px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 15\n    }\n  }, \"Email:\"), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"email\",\n    type: \"text\",\n    placeholder: \"Type your email here\",\n    key: \"email\",\n    name: \"email\",\n    size: \"40\",\n    onChange: function onChange(event) {\n      setEmail(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    style: {\n      padding: \"2px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 15\n    }\n  }, \"Password:\"), /*#__PURE__*/React.createElement(\"input\", {\n    size: \"40\",\n    type: \"password\",\n    id: \"password\",\n    placeholder: \"Type your password here\",\n    key: \"password\",\n    name: \"password\",\n    onChange: function onChange(event) {\n      setPassword(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 15\n    }\n  }, \"\\xA0\"), /*#__PURE__*/React.createElement(\"input\", {\n    style: {\n      color: \"red\",\n      padding: \"20px\",\n      fontSize: \"30px\",\n      fontStyle: \"bold\"\n    },\n    type: \"submit\",\n    value: \"Register\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 15\n    }\n  })))); //End of return Statement\n}\n;\n/**\n * This component is for the notes on the registration page.\n */\n\nfunction RegistrationNotesComponent() {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }\n  }, \"Registration Page\"), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }\n  }, \"Please register in here by typing your email and password and then pressing the Register Button below. \"));\n}","map":{"version":3,"sources":["C:/CAB432/stocks_viewing_app/client/src/pages/Register.js"],"names":["React","useEffect","useState","useHistory","CardBody","API_URL","url","Register","history","email","setEmail","password","setPassword","registrationProcess","event","preventDefault","sendPassEmailApi","method","headers","body","JSON","stringify","fetch","then","res","json","apiResponse","error","console","log","alert","message","success","push","catch","err","height","width","padding","target","value","color","fontSize","fontStyle","RegistrationNotesComponent"],"mappings":"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","sourcesContent":["\nimport React, { useEffect, useState } from \"react\";\nimport  {useHistory} from \"react-router-dom\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"ag-grid-community/dist/styles/ag-grid.css\";\nimport \"ag-grid-community/dist/styles/ag-theme-alpine.css\";\nimport {  CardBody } from \"reactstrap\";\n\n\n//API login url\nconst API_URL = \"https://localhost:443\";\nconst url = `${API_URL}/user/register`;\n\n\n/**\n * This is the main function which does the registration functionality, \n * First does a post request to register users with api. \n * Then displays appropriate error messages when needed. It also displays the messages\n * for the registration UI page.\n */\nexport default function Register() {\n    let history = useHistory();\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n\n    /**\n    * @param {event} event\n    * This function sends a post request to the api for registration, then \n    * checks the returned query for errors.\n    * If there is error, the message will appear to the user on the screen and it will \n    * notify the user of the error message. \n    */\n    const registrationProcess = (event) => {\n        event.preventDefault();\n\n        /**\n         * This arrow function is an object which declares what the body, method, \n         * are to the api.\n         */\n        const sendPassEmailApi = {\n            method: \"POST\",\n            headers: { \"Content-Type\": \"application/json\"},\n            body: JSON.stringify({ email: email, password: password })\n        };\n        \n        fetch(url, sendPassEmailApi)\n        .then((res) => res.json())\n        .then((apiResponse) => {\n            //If user is registere nottify him to login\n          if(apiResponse.error){\n              console.log(\"User already exists\")\n            alert(apiResponse.message);\n\n           }\n           //Then go to the authenticated page where users will be able to get see price history\n           if(apiResponse.success){\n               console.log(\"New user Created\")\n             //alert(\"You're registered!\"); //notify the user they're registered in\n             return history.push('/Login');\n           }\n        })\n        .catch(err => {alert(err.message+\" Please try again! \")}); //This also catches error such as bad request\n    }\n\n    return(\n        <div className=\"container\" style={{height:\"692px\"}}>\n            {/* Displays instructional messages on the screen */}\n            <RegistrationNotesComponent />\n\n            {/* This is card which holds the input and lables for the registration page */}\n            <CardBody className=\"container\" color=\"red\">\n\n            <form \n            onSubmit={registrationProcess} \n            style={{width: \"0px\", height: \"0px\"}}\n            >\n              \n              {/* This is the input and label for the email on the registration page. */}\n              <label style={{padding: \"2px\"}}>Email:</label>\n              <input\n              id=\"email\" \n              type=\"text\"\n              placeholder=\"Type your email here\"  \n              key=\"email\" \n              name=\"email\" \n              size=\"40\"  \n              onChange={(event) => {\n              setEmail(event.target.value);}} />\n    \n              {/* This is the input and label for the password on the registration page. */}\n              <label style={{padding: \"2px\"}}>Password:</label>\n              <input \n              size=\"40\"\n              type=\"password\" \n              id=\"password\" \n              placeholder=\"Type your password here\"\n              key=\"password\" \n              name=\"password\" \n              onChange={event => {\n                setPassword(event.target.value);\n              }} />\n              \n              <p>&nbsp;</p>\n    \n              {/* This is the input and label for the submit which is\n               used as button on the registration page. */}\n              <input \n              style={{color: \"red\", padding: \"20px\", fontSize: \"30px\", \n              fontStyle: \"bold\"}} \n              type=\"submit\" \n              value=\"Register\" />\n    \n            </form>\n          </CardBody>\n        </div>\n      );\n      //End of return Statement\n};\n\n\n/**\n * This component is for the notes on the registration page.\n */\nfunction RegistrationNotesComponent() {\n  return (\n    <div>\n      <h2>Registration Page</h2>\n      <h3>Please register in here by typing your email and password and \n        then pressing the Register Button below. </h3>\n    </div>\n  ); \n}\n"]},"metadata":{},"sourceType":"module"}