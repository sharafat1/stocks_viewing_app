{"ast":null,"code":"import _slicedToArray from \"C:\\\\CAB432\\\\stocks_viewing_app\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\CAB432\\\\stocks_viewing_app\\\\client\\\\src\\\\pages\\\\Stocklist.jsx\";\nimport React, { useEffect, useState } from \"react\";\nimport { AgGridReact } from \"ag-grid-react\";\nimport { useHistory } from \"react-router-dom\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport { Button, Badge } from \"reactstrap\";\nimport \"ag-grid-community/dist/styles/ag-grid.css\";\nimport \"ag-grid-community/dist/styles/ag-theme-alpine.css\";\nimport logginProcess from \"./Login\";\nimport checkingA from \"./Login\";\nvar token = localStorage.getItem(\"token\"); //the header for authenticated requests\n// const headers = {\n//   accept: \"aplication/json\",\n//   \"Content-Type\": \"application/json\",\n//   Authorization: `Bearer ${token}`\n// }\n//This is the link to api\n\nvar API_KEY = \"http://131.181.190.87:3000\";\nvar url = \"\".concat(API_KEY, \"/stocks/symbols\"); //This array holds the names of the table's columns \n\nvar columns = [{\n  headerName: \"Name\",\n  field: \"name\",\n  sortable: true,\n  filter: true,\n  width: 300,\n  sortable: true,\n  filter: true\n}, {\n  headerName: \"Symbol\",\n  field: \"symbol\",\n  width: 150,\n  sortable: true,\n  filter: true\n}, {\n  headerName: \"Industry\",\n  field: \"industry\",\n  width: 250,\n  sortable: true,\n  filter: true\n}];\n/**\n * This function is gets data from the api, then create a table and place that data into the table,\n * This function uses the AgGridReact Table,\n * When the person clicks on any of the rows they will be taken to the next page where there will be\n * the latest row of information available for that particular stock. \n */\n\nexport default function StockList() {\n  var history = useHistory();\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      rowData = _useState2[0],\n      setRowData = _useState2[1]; //this is the data fetching part from the api.\n\n\n  useEffect(function () {\n    fetch(url).then(function (res) {\n      return res.json();\n    }).then(function (res) {\n      return res.map(function (result) {\n        return {\n          name: result.name,\n          symbol: result.symbol,\n          industry: result.industry\n        };\n      });\n    }).then(function (rowData) {\n      return setRowData(rowData);\n    }).catch(function (error) {\n      return alert(\"Something went wrong: \" + error.message);\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }\n  }, \"Stock List\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 10\n    }\n  }, \"Click on any row to view that stocks latest and up to date history of pricing information.\")), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  }, \" Please click on any name, symbol, and industry if you want to sort them, if you want to search hover over your mouse over the any of the columns heads such as name, industry and symbol.\"), /*#__PURE__*/React.createElement(Badge, {\n    color: \"success\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }, rowData.length), \" Stocks are available in the system now.\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ag-theme-alpine\",\n    style: {\n      height: \"800px\",\n      width: \"850px\",\n      padding: \"50px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(AgGridReact, {\n    columnDefs: columns,\n    rowData: rowData,\n    pagination: true,\n    paginationPageSize: 25,\n    onRowClicked: function onRowClicked(row) {\n      //if there is a token in the storage, go to Authenticated page else go to non-authenticated page\n      if (sessionStorage.getItem(\"token\") === token) {\n        history.push(\"/Authed/\".concat(row.data.symbol));\n      }\n\n      history.push(\"/stock/\".concat(row.data.symbol, \"/\"));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }\n  })));\n}\n/**\n * This component create a search bar above the table and it also create a button. Theese can be used to search by industry.\n */\n\nfunction SearchBarUncontrolled() {\n  return /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: function onSubmit(event) {\n      event.preventDefault();\n      console.log(\"This is the input from the searchBar: \" + \"\".concat(event.target.industry.value));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"industrySearch\",\n    style: {\n      padding: \"2px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 5\n    }\n  }, \"Search by industry:\"), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"name\",\n    name: \"name\",\n    type: \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 5\n    }\n  }, \"Search\"));\n}","map":{"version":3,"sources":["C:/CAB432/stocks_viewing_app/client/src/pages/Stocklist.jsx"],"names":["React","useEffect","useState","AgGridReact","useHistory","Button","Badge","logginProcess","checkingA","token","localStorage","getItem","API_KEY","url","columns","headerName","field","sortable","filter","width","StockList","history","rowData","setRowData","fetch","then","res","json","map","result","name","symbol","industry","catch","error","alert","message","length","height","padding","row","sessionStorage","push","data","SearchBarUncontrolled","event","preventDefault","console","log","target","value"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { AgGridReact } from \"ag-grid-react\";\nimport  {useHistory} from \"react-router-dom\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport { Button, Badge } from \"reactstrap\";\nimport \"ag-grid-community/dist/styles/ag-grid.css\";\nimport \"ag-grid-community/dist/styles/ag-theme-alpine.css\";\nimport logginProcess from \"./Login\"\nimport checkingA from \"./Login\"\n\n\nconst token = localStorage.getItem(\"token\");\n\n\n//the header for authenticated requests\n// const headers = {\n//   accept: \"aplication/json\",\n//   \"Content-Type\": \"application/json\",\n//   Authorization: `Bearer ${token}`\n// }\n\n\n//This is the link to api\nconst API_KEY = \"http://131.181.190.87:3000\";\nconst url = `${API_KEY}/stocks/symbols`;\n//This array holds the names of the table's columns \nconst columns = [\n\n  {\n    headerName: \"Name\",\n    field: \"name\",\n    sortable: true,\n    filter: true,\n    width: 300, \n    sortable: true,\n    filter: true\n    \n  },\n  {\n    headerName: \"Symbol\",\n    field: \"symbol\",\n    width: 150, \n    sortable: true, \n    filter: true\n  },\n  {\n    headerName: \"Industry\",\n    field: \"industry\",\n    width: 250,\n    sortable: true,\n    filter: true\n  }\n];\n\n/**\n * This function is gets data from the api, then create a table and place that data into the table,\n * This function uses the AgGridReact Table,\n * When the person clicks on any of the rows they will be taken to the next page where there will be\n * the latest row of information available for that particular stock. \n */\nexport default function StockList() {\n  const history = useHistory();\n  const [rowData, setRowData] = useState([]);\n\n  //this is the data fetching part from the api.\n  useEffect(() => {\n    fetch(url)\n      .then(res => res.json())\n      .then(res =>\n        res.map(result => {\n          return {\n            name: result.name,\n            symbol: result.symbol,\n            industry: result.industry\n          };\n      }))\n      .then(rowData => setRowData(rowData))\n      .catch(error => alert(\"Something went wrong: \"+error.message));\n  }, []);\n\n  \n  return (\n    <div className=\"container\" >\n      <h3>Stock List</h3>\n      <p><b>Click on any row to view that stocks latest and up to date history of pricing information.</b></p>\n      <p>\n        <p> Please click on any name, symbol, and industry if you want to sort them, if you want to search hover over your mouse over the any of the columns heads such as name, industry and symbol.</p>\n        <Badge color=\"success\">{rowData.length}</Badge> Stocks are available in the system now.\n      </p>\n      <div\n        className=\"ag-theme-alpine\"\n        style={{\n          height: \"800px\",\n          width: \"850px\", \n          padding: \"50px\"\n          \n        }}>\n          {/* < SearchBarUncontrolled /> */}\n\n          {/* The table columns and rows and all its data are called here. This also checks if the user is logged in then do appropriate actions */}\n        <AgGridReact\n          columnDefs={columns}\n          rowData={rowData}\n          pagination={true} \n          paginationPageSize={25}\n          onRowClicked={row => { \n            //if there is a token in the storage, go to Authenticated page else go to non-authenticated page\n            if(sessionStorage.getItem(\"token\") === token){\n\n              history.push(`/Authed/${row.data.symbol}`);\n            }\n              history.push(`/stock/${row.data.symbol}/`);}\n          }\n        />\n        \n      </div>\n    </div>\n  );\n}\n\n\n/**\n * This component create a search bar above the table and it also create a button. Theese can be used to search by industry.\n */\nfunction SearchBarUncontrolled(){\n  return (\n    <form onSubmit={(event) => {event.preventDefault();\n    \n    console.log(\"This is the input from the searchBar: \"+(`${event.target.industry.value}`))\n  \n  }}>\n    <label htmlFor=\"industrySearch\" style={{padding: \"2px\"}}>Search by industry:</label>\n    <input id=\"name\" name=\"name\" type=\"text\" />\n    <button type=\"submit\">Search</button>\n\n    </form>\n  );\n}\n\n"]},"metadata":{},"sourceType":"module"}