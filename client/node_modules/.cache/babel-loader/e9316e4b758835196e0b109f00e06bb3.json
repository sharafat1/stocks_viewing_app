{"ast":null,"code":"import _slicedToArray from \"C:\\\\CAB432\\\\stocks_viewing_app\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\CAB432\\\\stocks_viewing_app\\\\client\\\\src\\\\pages\\\\Stock.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { AgGridReact } from \"ag-grid-react\";\nimport { useHistory, useParams, Link } from \"react-router-dom\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"ag-grid-community/dist/styles/ag-grid.css\";\nimport \"ag-grid-community/dist/styles/ag-theme-alpine.css\";\nimport moment from \"moment\"; //the qut api\n\nvar API_KEY = \"http://131.181.190.87:3000\"; //the name of the columns for the retrieved table\n\nvar columnsDefs = [{\n  headerName: \"Timestamp\",\n  field: \"timestamp\",\n  width: 150,\n  filter: true,\n  sortable: true\n}, {\n  headerName: \"Symbol\",\n  field: \"symbol\",\n  width: 100,\n  filter: true,\n  sortable: true\n}, {\n  headerName: \"Name\",\n  field: \"name\",\n  width: 200,\n  filter: true,\n  sortable: true\n}, {\n  headerName: \"Industry\",\n  field: \"industry\",\n  width: 200,\n  filter: true,\n  sortable: true\n}, {\n  headerName: \"Open\",\n  field: \"open\",\n  width: 100,\n  filter: true,\n  sortable: true\n}, {\n  headerName: \"High\",\n  field: \"high\",\n  width: 100,\n  filter: true,\n  sortable: true\n}, {\n  headerName: \"Low\",\n  field: \"low\",\n  width: 100,\n  filter: true,\n  sortable: true\n}, {\n  headerName: \"close\",\n  field: \"close\",\n  width: 100,\n  filter: true,\n  sortable: true\n}, {\n  headerName: \"Volumes\",\n  field: \"volumes\",\n  width: 160,\n  filter: true,\n  sortable: true\n}];\n/**\r\n * This is the main function for the stock page. This function gets the symbol from the stocklist\r\n * When user click on any stock they will be taken to this page. The symbol of that stock will be used to \r\n * request to the api that we need information for the clicked stock.\r\n */\n\nexport default function Stock() {\n  var _useParams = useParams(),\n      symbol = _useParams.symbol;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      rowData = _useState2[0],\n      setRowData = _useState2[1]; // Used to retrieve symbol from path param\n\n\n  useEffect(function () {\n    var url = \"\".concat(API_KEY, \"/stocks/\").concat(symbol);\n    fetch(url).then(function (res) {\n      return res.json();\n    }).then(function (res) {\n      return [{\n        close: res.close,\n        high: res.high,\n        industry: res.industry,\n        low: res.low,\n        name: res.name,\n        open: res.open,\n        symbol: res.symbol,\n        timestamp: moment(res.timestamp).format(\"DD/MM/YY\"),\n        volumes: res.volumes\n      }];\n    }).then(function (stocks) {\n      return setRowData(stocks);\n    }).catch(function (error) {\n      return console.log(\"Something went wrong Please try again\" + error);\n    });\n  }, [symbol]); //depending on symbol\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"x\",\n    style: {\n      padding: \"50px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }\n  }, \"Please click \", /*#__PURE__*/React.createElement(Link, {\n    to: \"/login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 23\n    }\n  }, \"here\"), \" login to to see the full pricing history of this stock!\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ag-theme-alpine\",\n    style: {\n      height: \"600px\",\n      width: \"1200px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(AgGridReact, {\n    columnDefs: columnsDefs,\n    rowData: rowData,\n    pagination: true,\n    paginationPageSize: 10,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 9\n    }\n  })));\n}","map":{"version":3,"sources":["C:/CAB432/stocks_viewing_app/client/src/pages/Stock.js"],"names":["React","useEffect","useState","AgGridReact","useHistory","useParams","Link","moment","API_KEY","columnsDefs","headerName","field","width","filter","sortable","Stock","symbol","rowData","setRowData","url","fetch","then","res","json","close","high","industry","low","name","open","timestamp","format","volumes","stocks","catch","error","console","log","padding","height"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { AgGridReact } from \"ag-grid-react\";\r\nimport { useHistory, useParams,Link } from \"react-router-dom\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"ag-grid-community/dist/styles/ag-grid.css\";\r\nimport \"ag-grid-community/dist/styles/ag-theme-alpine.css\";\r\nimport moment from \"moment\";\r\n\r\n//the qut api\r\nconst API_KEY = \"http://131.181.190.87:3000\";\r\n//the name of the columns for the retrieved table\r\nconst columnsDefs = [\r\n  {\r\n    headerName: \"Timestamp\",\r\n    field: \"timestamp\",\r\n    width: 150, \r\n    filter: true,\r\n    sortable: true\r\n  },\r\n  {\r\n    headerName: \"Symbol\",\r\n    field: \"symbol\",\r\n    width: 100, \r\n    filter: true,\r\n    sortable: true\r\n  },\r\n  {\r\n    headerName: \"Name\",\r\n    field: \"name\",\r\n    width: 200, \r\n    filter: true,\r\n    sortable: true\r\n  },\r\n  {\r\n    headerName: \"Industry\",\r\n    field: \"industry\",\r\n    width: 200, \r\n    filter: true,\r\n    sortable: true\r\n  },\r\n  {\r\n    headerName: \"Open\",\r\n    field: \"open\",\r\n    width: 100, \r\n    filter: true,\r\n    sortable: true\r\n  },\r\n  {\r\n    headerName: \"High\",\r\n    field: \"high\",\r\n    width: 100, \r\n    filter: true,\r\n    sortable: true\r\n  },\r\n  {\r\n    headerName: \"Low\",\r\n    field: \"low\",\r\n    width: 100, \r\n    filter: true,\r\n    sortable: true\r\n  },\r\n  {\r\n    headerName: \"close\",\r\n    field: \"close\",\r\n    width: 100, \r\n    filter: true,\r\n    sortable: true\r\n  },\r\n  {\r\n    headerName: \"Volumes\",\r\n    field: \"volumes\",\r\n    width: 160, \r\n    filter: true,\r\n    sortable: true\r\n  }\r\n];\r\n\r\n\r\n/**\r\n * This is the main function for the stock page. This function gets the symbol from the stocklist\r\n * When user click on any stock they will be taken to this page. The symbol of that stock will be used to \r\n * request to the api that we need information for the clicked stock.\r\n */\r\nexport default function Stock() {\r\n  const { symbol } = useParams();\r\n  const [rowData, setRowData] = useState([]);\r\n\r\n  // Used to retrieve symbol from path param\r\n  useEffect(() => {\r\n\r\n    const url = `${API_KEY}/stocks/${symbol}`;\r\n    fetch(url)\r\n    .then(res => res.json())\r\n    .then(res => {return [{close: res.close, high: res.high, \r\n      industry: res.industry, low: res.low, name: res.name,\r\n       open: res.open, symbol: res.symbol, \r\n       timestamp: moment(res.timestamp).format(\"DD/MM/YY\"), volumes: res.volumes}]\r\n    })\r\n    .then(stocks => setRowData(stocks))\r\n      .catch(error => (console.log(\"Something went wrong Please try again\"+error)))\r\n  }, [symbol]); //depending on symbol\r\n\r\n  return (\r\n    <div className=\"x\" style={{padding: \"50px\"}}>\r\n      <p>Please click <Link to=\"/login\">here</Link> login to to see the full pricing history of this stock!</p>     \r\n      <div className=\"ag-theme-alpine\" style={{\r\n          height: \"600px\",\r\n          width: \"1200px\",}} >\r\n\r\n             {/*The table and its columns and rows  */}\r\n        <AgGridReact\r\n          columnDefs={columnsDefs}\r\n          rowData={rowData}\r\n          pagination={true}\r\n          paginationPageSize={10}\r\n        />\r\n       </div>\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}